# Arquivo de Definição do Agente - Conforme especificação "Maestro" v1.0

id: ProblemRefiner_Agent
version: 1.0
description: "Refina uma declaração de problema inicial através de um diálogo interativo e análise do código-fonte para produzir um artefato 'Problema Polido'."

# NEW MANDATORY KEY - Defines which AI engine to use for this agent
ai_provider: 'claude'

# Caminho para o prompt que define a personalidade e o comportamento
persona_prompt_path: "persona.md"

# Caminho para o arquivo de estado (memória) do agente
state_file_path: "state.json"

# Tarefa a ser executada no modo automático (pelo Conductor)
# Neste caso, a "execução" é a consolidação da análise em um artefato.
execution_task: |
  Com base no histórico da conversa interativa (`state.json`), consolide o entendimento do problema.
  Gere um documento Markdown (`${output_artifact}`) que descreve claramente:
  1. O objetivo principal do usuário.
  2. O contexto técnico relevante (arquivos, classes, funções impactadas).
  3. Os requisitos e restrições levantados.
  4. As perguntas que ainda precisam ser respondidas.
  Este documento será o input para o PlanCreator_Agent.

# Configuração de saída parametrizada
output_artifact: "polished_problem.md"
output_directory: "workspace/outbox"

# Ferramentas disponíveis no modo interativo (pelo Agente Mestre)
# Essencial para este agente poder analisar o código-fonte.
available_tools:
  - Read
  - Write
  - LS
  - Grep
  - Glob
