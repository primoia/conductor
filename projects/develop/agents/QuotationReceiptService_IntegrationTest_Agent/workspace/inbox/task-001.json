{
  "task_id": "task-002-create-integration-test-no-contamination",
  "command_timestamp": "2025-08-11T10:30:00Z",
  "source": "Human Orchestrator",
  "instruction": "Create content for the 'QuotationReceiptServiceIntegrationTest.kt' integration test file.",
  "details": {
    "objective": "Your goal is to generate a self-contained integration test for QuotationReceiptService. The result of your work will be compared with a reference version, so it's crucial that you DO NOT read or access the file '/mnt/ramdisk/develop/nex-web-backend/src/test/kotlin/br/com/nextar/web/service/receipt/QuotationReceiptServiceIntegrationTest.kt'. You must recreate the logic based on principles learned from the reference files.",
    "target_file_to_create_content_for": "/mnt/ramdisk/develop/nex-web-backend/src/test/kotlin/br/com/nextar/web/service/receipt/QuotationReceiptServiceIntegrationTest.kt",
    "reference_files_to_read": [
      "/mnt/ramdisk/develop/nex-web-backend/src/main/kotlin/br/com/nextar/web/service/receipt/QuotationReceiptService.kt",
      "/mnt/ramdisk/develop/nex-web-backend/src/test/kotlin/br/com/nextar/web/integration/QuotationReceiptTemplateRealTest.kt",
      "/mnt/ramdisk/develop/nex-web-backend/src/integrationTest/kotlin/br/com/nextar/web/service/user/UserServiceIntegrationTest.kt"
    ],
    "key_requirements": [
      "The new test file must NOT use the @SpringBootTest annotation.",
      "Base yourself on 'UserServiceIntegrationTest.kt' to understand the pattern of how to use Testcontainers and manually instantiate services.",
      "Use the logic from 'QuotationReceiptTemplateRealTest.kt' to know WHAT to test (which methods to call, which data to create).",
      "The test should create a quotation in the container database, call the 'generateQuotationReceiptPdfResponse' method, and validate that the returned PDF is not empty and has the correct headers."
    ]
  }
}